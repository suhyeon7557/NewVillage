<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>마을의제 - 리스트 페이지</title>
  <link rel="stylesheet" href="../styles/common.css">
  <style>
    :root {
      --color-primary-yellow: #FFAE00;
      --color-primary-orange: #FF6733;
      --color-primary-purple: #6369DD;
      --color-primary-blue: #4CA0FF;
      --color-primary-green: #51D72F;
      --color-primary-green-dark: #1A8100;
      --color-text-black: #414141;
      --color-text-gray: #999999;
      --color-text-white: #ffffff;
      --color-bg-light: #F4F5F9;
      --color-bg-white: #ffffff;
      --color-border: #e0e0e0;
      --font-size-xs: 0.75rem;
      --font-size-sm: 0.875rem;
      --font-size-base: 1rem;
      --spacing-xs: 0.25rem;
      --spacing-sm: 0.5rem;
      --spacing-md: 1rem;
      --spacing-lg: 1.5rem;
      --content-max-width: 1400px;
    }
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { 
      font-family: 'S-Core Dream', sans-serif; 
      background: #fff;
      color: var(--color-text-black);
    }
    .container {
      width: 100%;
      max-width: var(--content-max-width);
      margin: 0 auto;
      padding: 0 20px;
    }
    .page-content {
      padding: 40px 0;
    }
  </style>
</head>
<body>

<!-- ========================================
     리스트 페이지 전체 구조
     ----------------------------------------
     JSP 변환 시:
     - 이 HTML 구조를 그대로 JSP 파일로 복사
     - 동적 데이터는 ${변수명} 또는 <c:forEach> 사용
======================================== -->

<div class="page-content">
  <div class="container">
    
    <!-- ========== 리스트 페이지 시작 ========== -->
    <div class="list-page">
      
      <!-- 상단 영역: 탭 + 검색 -->
      <div class="list-header">
        <div class="list-header-left">
          <!-- 탭 -->
          <div class="tabs">
            <button type="button" class="tab-item active" data-tab="all">전체</button>
            <button type="button" class="tab-item" data-tab="my">내 마을</button>
          </div>
        </div>
        <div class="list-header-right">
          <!-- 검색박스 -->
          <div class="search-box">
            <div class="search-select">
              <button type="button" class="search-select-trigger" onclick="toggleSearchSelect(this)">
                <span>제목</span>
                <img src="/images/ic_select_gray.svg" alt="선택" class="search-select-icon">
              </button>
              <div class="search-select-dropdown" style="display: none;">
                <ul class="search-select-list">
                  <li><button type="button" class="search-select-item active" data-value="title" onclick="selectSearchOption(this, '제목')">제목</button></li>
                  <li><button type="button" class="search-select-item" data-value="content" onclick="selectSearchOption(this, '내용')">내용</button></li>
                  <li><button type="button" class="search-select-item" data-value="author" onclick="selectSearchOption(this, '작성자')">작성자</button></li>
                </ul>
              </div>
            </div>
            <div class="search-input-wrap">
              <input type="text" class="search-input" placeholder="검색" name="keyword">
              <button type="button" class="search-btn">
                <img src="/images/ic_search_gray.svg" alt="검색">
              </button>
            </div>
          </div>
        </div>
      </div>
      
      <!-- 중간 영역: 총 개수 + 정렬 -->
      <div class="list-info">
        <div class="list-info-left">
          <span class="list-total">총 <strong>83</strong>건 (1 / 11 page)</span>
        </div>
        <div class="list-info-right">
          <!-- 정렬 탭 -->
          <div class="sort-tabs">
            <button type="button" class="sort-tab active" data-sort="latest">최신순</button>
            <button type="button" class="sort-tab" data-sort="popular">공감순</button>
          </div>
        </div>
      </div>
      
      <!-- 카드 리스트 -->
      <div class="card-list card-list-text">
        
        <!-- 카드 1: 관리자(master) 프로필 -->
        <div class="card card-text">
          <div class="card-body">
            <div class="card-meta">
              <span class="card-village">[진월동]진월마을</span>
            </div>
            <h3 class="card-title">진월동 달빛 모기장 영화제</h3>
            <p class="card-content">2026년 진월동 주민총회 마을의제 상정 달빛 모기장 영화제 - 관내 학교 운동장, 테니스장 등을 활용하여 주민 모두가 함께 즐기는 야외 영화제 개최</p>
            <div class="card-footer">
              <div class="profile">
                <div class="profile-image master"></div> <!-- master: 관리자(마을e척척) -->
                <div class="profile-info">
                  <span class="profile-name">마을e척척</span>
                  <span class="profile-date">2025.09.24</span>
                </div>
              </div>
              <div class="engagement">
                <span class="engagement-item engagement-likes">
                  <img src="/images/ic_good.svg" alt="좋아요">
                  <span>4</span>
                </span>
                <span class="engagement-item engagement-comments">
                  <img src="/images/ic_talk.svg" alt="댓글">
                  <span>0</span>
                </span>
              </div>
            </div>
          </div>
        </div>
        
        <!-- 카드 2: 관리자(master) 프로필 -->
        <div class="card card-text">
          <div class="card-body">
            <div class="card-meta">
              <span class="card-village">[진월동]진월마을</span>
            </div>
            <h3 class="card-title">푸른길 공원 안심산책길 조성</h3>
            <p class="card-content">2026년 진월동 주민총회 마을의제 상정 푸른길 공원 안심산책길 조성 - 야간 보행로가 어두운 푸른길 공원에 가로수 추가 설치와 더불어 가로등을 가라는 나무에 대한...</p>
            <div class="card-footer">
              <div class="profile">
                <div class="profile-image master"></div> <!-- master: 관리자(마을e척척) -->
                <div class="profile-info">
                  <span class="profile-name">마을e척척</span>
                  <span class="profile-date">2025.09.24</span>
                </div>
              </div>
              <div class="engagement">
                <span class="engagement-item engagement-likes">
                  <img src="/images/ic_good.svg" alt="좋아요">
                  <span>4</span>
                </span>
                <span class="engagement-item engagement-comments">
                  <img src="/images/ic_talk.svg" alt="댓글">
                  <span>0</span>
                </span>
              </div>
            </div>
          </div>
        </div>
        
        <!-- 카드 3: 갤러리형 + 관리자(master) 프로필 -->
        <div class="card card-gallery">
          <div class="card-thumbnail">
            <img src="https://picsum.photos/200/150?random=1" alt="책과 놀자">
          </div>
          <div class="card-body">
            <div class="card-meta">
              <span class="card-village">[학운동]무꽃동마을</span>
            </div>
            <h3 class="card-title">책과 놀자</h3>
            <p class="card-content">※ 본 투표는 학운동 중장기마을계획 실행을 위한 2026 주민공동체 의제를 선정하기 위한 것입니다.</p>
            <div class="card-footer">
              <div class="profile">
                <div class="profile-image master"></div> <!-- master: 관리자(마을e척척) -->
                <div class="profile-info">
                  <span class="profile-name">마을e척척</span>
                  <span class="profile-date">2025.09.24</span>
                </div>
              </div>
              <div class="engagement">
                <span class="engagement-item engagement-likes">
                  <img src="/images/ic_good.svg" alt="좋아요">
                  <span>4</span>
                </span>
                <span class="engagement-item engagement-comments">
                  <img src="/images/ic_talk.svg" alt="댓글">
                  <span>0</span>
                </span>
              </div>
            </div>
          </div>
        </div>
        
        <!-- 카드 4: 갤러리형 + 관리자(master) 프로필 -->
        <div class="card card-gallery">
          <div class="card-thumbnail">
            <img src="https://picsum.photos/200/150?random=2" alt="마을주민 베이커리 배움터">
          </div>
          <div class="card-body">
            <div class="card-meta">
              <span class="card-village">[학운동]무꽃동마을</span>
            </div>
            <h3 class="card-title">마을주민 베이커리 배움터</h3>
            <p class="card-content">※ 본 투표는 학운동 중장기마을계획 실행을 위한 2026 주민공동체 의제를 선정하기 위한 것입니다.</p>
            <div class="card-footer">
              <div class="profile">
                <div class="profile-image master"></div> <!-- master: 관리자(마을e척척) -->
                <div class="profile-info">
                  <span class="profile-name">마을e척척</span>
                  <span class="profile-date">2025.09.24</span>
                </div>
              </div>
              <div class="engagement">
                <span class="engagement-item engagement-likes">
                  <img src="/images/ic_good.svg" alt="좋아요">
                  <span>4</span>
                </span>
                <span class="engagement-item engagement-comments">
                  <img src="/images/ic_talk.svg" alt="댓글">
                  <span>0</span>
                </span>
              </div>
            </div>
          </div>
        </div>
        
        <!-- 카드 5: 일반사용자(basic) 프로필 -->
        <div class="card card-text">
          <div class="card-body">
            <div class="card-meta">
              <span class="card-village">[광주]광주마을</span>
            </div>
            <h3 class="card-title">광주에 이사온지 얼마 안된 주민입니다. 광주에 산책할 만한 장소 추천 부탁드립니다.</h3>
            <p class="card-content">광주에 이사온지 얼마 안됐습니다. 저녁먹고 산책할 만한 장소가 있는지 추천좀 부탁드립니다.</p>
            <div class="card-footer">
              <div class="profile">
                <div class="profile-image basic"></div> <!-- basic: 일반사용자 -->
                <div class="profile-info">
                  <span class="profile-name">달봉맘</span>
                  <span class="profile-date">2025.09.24</span>
                </div>
              </div>
              <div class="engagement">
                <span class="engagement-item engagement-likes">
                  <img src="/images/ic_good.svg" alt="좋아요">
                  <span>4</span>
                </span>
                <span class="engagement-item engagement-comments">
                  <img src="/images/ic_talk.svg" alt="댓글">
                  <span>0</span>
                </span>
              </div>
            </div>
          </div>
        </div>
        
        <!-- 카드 6: 일반사용자(basic) 프로필 -->
        <div class="card card-text">
          <div class="card-body">
            <div class="card-meta">
              <span class="card-village">[치평동]치평마을</span>
            </div>
            <h3 class="card-title">안녕하세요 치평동에 사는 주민인데 시민공원에 체조하는걸 본적이 있습니다. 질문드립니다.</h3>
            <p class="card-content">시민공원에서 체조를 하는걸 본적이 있는데 그게 무슨 요일에 몇시쯤에 하는지 궁금하네요 혹시 아는 분 계시면 알려주세요.</p>
            <div class="card-footer">
              <div class="profile">
                <div class="profile-image basic"></div> <!-- basic: 일반사용자 -->
                <div class="profile-info">
                  <span class="profile-name">가을흙아</span>
                  <span class="profile-date">2025.09.24</span>
                </div>
              </div>
              <div class="engagement">
                <span class="engagement-item engagement-likes">
                  <img src="/images/ic_good.svg" alt="좋아요">
                  <span>4</span>
                </span>
                <span class="engagement-item engagement-comments">
                  <img src="/images/ic_talk.svg" alt="댓글">
                  <span>0</span>
                </span>
              </div>
            </div>
          </div>
        </div>
        
      </div>
      
      <!-- 페이지네이션 -->
      <!--
        JSP 페이지네이션 예시:
        <c:forEach var="i" begin="${startPage}" end="${endPage}">
          <button class="pagination-num <c:if test='${i == currentPage}'>active</c:if>">${i}</button>
        </c:forEach>
      -->
      <div class="pagination">
        <button type="button" class="pagination-btn pagination-prev" disabled>
          <img src="/images/ic_prev_paging.svg" alt="이전">
        </button>
        <div class="pagination-numbers">
          <button type="button" class="pagination-num">1</button>
          <button type="button" class="pagination-num active">2</button>
          <button type="button" class="pagination-num">3</button>
          <button type="button" class="pagination-num">4</button>
          <button type="button" class="pagination-num">5</button>
        </div>
        <button type="button" class="pagination-btn pagination-next">
          <img src="/images/ic_next_paging.svg" alt="다음">
        </button>
      </div>
      
    </div>
    <!-- ========== 리스트 페이지 끝 ========== -->
    
  </div>
</div>
<script>
/*
===========================================
리스트 페이지 JavaScript
-------------------------------------------
JSP에서 그대로 사용 가능
===========================================
*/

// 탭 클릭 이벤트
document.querySelectorAll('.tab-item').forEach(function(tab) {
  tab.addEventListener('click', function() {
    document.querySelectorAll('.tab-item').forEach(function(t) {
      t.classList.remove('active');
    });
    this.classList.add('active');
    
    var tabValue = this.getAttribute('data-tab');
    console.log('선택된 탭:', tabValue);
    // TODO: 탭에 따른 데이터 로드
  });
});

// 정렬 탭 클릭 이벤트
document.querySelectorAll('.sort-tab').forEach(function(tab) {
  tab.addEventListener('click', function() {
    document.querySelectorAll('.sort-tab').forEach(function(t) {
      t.classList.remove('active');
    });
    this.classList.add('active');
    
    var sortValue = this.getAttribute('data-sort');
    console.log('선택된 정렬:', sortValue);
    // TODO: 정렬에 따른 데이터 로드
  });
});

// 검색 셀렉트 토글
function toggleSearchSelect(trigger) {
  var select = trigger.closest('.search-select');
  var dropdown = select.querySelector('.search-select-dropdown');
  var icon = select.querySelector('.search-select-icon');
  
  var isOpen = dropdown.style.display === 'block';
  
  document.querySelectorAll('.search-select-dropdown').forEach(function(d) {
    d.style.display = 'none';
  });
  document.querySelectorAll('.search-select-icon').forEach(function(i) {
    i.classList.remove('rotate');
  });
  
  if (!isOpen) {
    dropdown.style.display = 'block';
    icon.classList.add('rotate');
  }
}

// 검색 옵션 선택
function selectSearchOption(item, label) {
  var select = item.closest('.search-select');
  var triggerText = select.querySelector('.search-select-trigger span');
  var dropdown = select.querySelector('.search-select-dropdown');
  var icon = select.querySelector('.search-select-icon');
  
  triggerText.textContent = label;
  
  select.querySelectorAll('.search-select-item').forEach(function(i) {
    i.classList.remove('active');
  });
  item.classList.add('active');
  
  dropdown.style.display = 'none';
  icon.classList.remove('rotate');
}

// 외부 클릭 시 드롭다운 닫기
document.addEventListener('click', function(e) {
  if (!e.target.closest('.search-select')) {
    document.querySelectorAll('.search-select-dropdown').forEach(function(d) {
      d.style.display = 'none';
    });
    document.querySelectorAll('.search-select-icon').forEach(function(i) {
      i.classList.remove('rotate');
    });
  }
});

// 페이지네이션 클릭 이벤트
document.querySelectorAll('.pagination-num').forEach(function(num) {
  num.addEventListener('click', function() {
    document.querySelectorAll('.pagination-num').forEach(function(n) {
      n.classList.remove('active');
    });
    this.classList.add('active');
    
    var page = this.textContent;
    console.log('선택된 페이지:', page);
    // TODO: 페이지에 따른 데이터 로드
  });
});

// 카드 클릭 이벤트
document.querySelectorAll('.card').forEach(function(card) {
  card.addEventListener('click', function() {
    // TODO: 상세 페이지로 이동
    console.log('카드 클릭됨');
  });
});
</script>

</body>
</html>

